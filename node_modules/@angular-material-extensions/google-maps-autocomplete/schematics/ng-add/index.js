module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e){t.exports=require("assert")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("@angular-devkit/schematics")},function(t,e){t.exports=require("@angular-devkit/core")},function(t,e){t.exports=require("npm-package-arg")},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(11)),r(n(12)),r(n(23)),r(n(24)),r(n(25)),r(n(13)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(32))},function(t,e){t.exports=require("typescript")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("semver")},function(t,e){t.exports=require("@angular-devkit/schematics/tasks")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(6),s=n(12);function o(t,e,n,o,a=!1){const u=t,p=i(u,r.SyntaxKind.ImportDeclaration),l=p.filter(t=>{return 1===t.getChildren().filter(t=>t.kind===r.SyntaxKind.StringLiteral).map(t=>t.text).filter(t=>t===o).length});if(l.length>0){let t=!1;const o=[];if(l.forEach(e=>{Array.prototype.push.apply(o,i(e,r.SyntaxKind.Identifier)),i(e,r.SyntaxKind.AsteriskToken).length>0&&(t=!0)}),t)return new s.NoopChange;if(0===o.filter(t=>t.text===n).length){const t=i(l[0],r.SyntaxKind.CloseBraceToken)[0].getStart()||i(l[0],r.SyntaxKind.FromKeyword)[0].getStart();return c(o,`, ${n}`,e,t)}return new s.NoopChange}const d=i(u,r.SyntaxKind.StringLiteral).filter(t=>"use strict"===t.text);let f=0;d.length>0&&(f=d[0].end);const h=a?"":"{ ",g=a?"":" }",m=0===p.length&&0===d.length;return c(p,`${m?"":";\n"}import ${h}${n}${g}`+` from '${o}'${m?";\n":""}`,e,f,r.SyntaxKind.StringLiteral)}function i(t,e,n=1/0){if(!t||0==n)return[];const r=[];if(t.kind===e&&(r.push(t),n--),n>0)for(const s of t.getChildren())if(i(s,e,n).forEach(t=>{n>0&&r.push(t),n--}),n<=0)break;return r}function a(t){const e=[t],n=[];for(;e.length>0;){const r=e.shift();r&&(n.push(r),r.getChildCount(t)>=0&&e.unshift(...r.getChildren()))}return n}function u(t,e){return t.getStart()-e.getStart()}function c(t,e,n,r,o){let a=[...t].sort(u).pop();if(!a)throw new Error;if(o&&(a=i(a,o).sort(u).pop()),!a&&null==r)throw new Error(`tried to insert ${e} as first occurence with no fallback position`);const c=a?a.getEnd():r;return new s.InsertChange(n,c,e)}function p(t,e,n){const s=i(t,r.SyntaxKind.ImportDeclaration).map(t=>(function(t,e){const n=t.moduleSpecifier;let s;switch(n.kind){case r.SyntaxKind.StringLiteral:s=n.text;break;default:return{}}if(!s.startsWith("@angular/"))return{};if(t.importClause){if(t.importClause.name)return{};if(t.importClause.namedBindings){const e=t.importClause.namedBindings;return e.kind==r.SyntaxKind.NamespaceImport?{[e.name.text+"."]:s}:e.elements.map(t=>t.propertyName?t.propertyName.text:t.name.text).reduce((t,e)=>(t[e]=s,t),{})}return{}}return{}})(t)).reduce((t,e)=>{for(const n of Object.keys(e))t[n]=e[n];return t},{});return a(t).filter(t=>t.kind==r.SyntaxKind.Decorator&&t.expression.kind==r.SyntaxKind.CallExpression).map(t=>t.expression).filter(o=>{if(o.expression.kind==r.SyntaxKind.Identifier){const r=o.expression;return r.getFullText(t)==e&&s[r.getFullText(t)]===n}if(o.expression.kind==r.SyntaxKind.PropertyAccessExpression){const i=o.expression;if(i.expression.kind!==r.SyntaxKind.Identifier)return!1;const a=i.name.text,u=i.expression.getText(t);return a===e&&s[u+"."]===n}return!1}).filter(t=>t.arguments[0]&&t.arguments[0].kind==r.SyntaxKind.ObjectLiteralExpression).map(t=>t.arguments[0])}function l(t,e,n,i,a=null){let u=p(t,"NgModule","@angular/core")[0];if(!u)return[];const c=u.properties.filter(t=>t.kind==r.SyntaxKind.PropertyAssignment).filter(e=>{const s=e.name;switch(s.kind){case r.SyntaxKind.Identifier:return s.getText(t)==n;case r.SyntaxKind.StringLiteral:return s.text==n}return!1});if(!c)return[];if(0==c.length){const r=u;let c,p;if(0==r.properties.length)c=r.getEnd()-1,p=`  ${n}: [${i}]\n`;else{c=(u=r.properties[r.properties.length-1]).getEnd();const e=u.getFullText(t).match(/^\r?\n\s*/);p=e.length>0?`,${e[0]}${n}: [${i}]`:`, ${n}: [${i}]`}return null!==a?[new s.InsertChange(e,c,p),o(t,e,i.replace(/\..*$/,""),a)]:[new s.InsertChange(e,c,p)]}const l=c[0];if(l.initializer.kind!==r.SyntaxKind.ArrayLiteralExpression)return[];const d=l.initializer;if(!(u=0==d.elements.length?d:d.elements))return console.log("No app module found. Please add your new class to your component."),[];if(Array.isArray(u)){if(u.map(t=>t.getText()).includes(i))return[];u=u[u.length-1]}let f,h=u.getEnd();if(u.kind==r.SyntaxKind.ObjectLiteralExpression){const e=u;if(0==e.properties.length)h=e.getEnd()-1,f=`  ${n}: [${i}]\n`;else{h=(u=e.properties[e.properties.length-1]).getEnd();const r=u.getFullText(t);f=r.match("^\r?\r?\n")?`,${r.match(/^\r?\n\s+/)[0]}${n}: [${i}]`:`, ${n}: [${i}]`}}else if(u.kind==r.SyntaxKind.ArrayLiteralExpression)h--,f=`${i}`;else{const e=u.getFullText(t);f=e.match(/^\r?\n/)?`,${e.match(/^\r?\n(\r?)\s+/)[0]}${i}`:`, ${i}`}return null!==a?[new s.InsertChange(e,h,f),o(t,e,i.replace(/\..*$/,""),a)]:[new s.InsertChange(e,h,f)]}e.insertImport=o,e.findNodes=i,e.getSourceNodes=a,e.findNode=function t(e,n,s){if(e.kind===n&&e.getText()===s)return e;let o=null;return r.forEachChild(e,e=>{o=o||t(e,n,s)}),o},e.insertAfterLastOccurrence=c,e.getContentOfKeyLiteral=function(t,e){return e.kind==r.SyntaxKind.Identifier?e.text:e.kind==r.SyntaxKind.StringLiteral?e.text:null},e.getDecoratorMetadata=p,e.getFirstNgModuleName=function(t){const e=p(t,"NgModule","@angular/core");if(0===e.length)return;const n=function t(e){return r.isClassDeclaration(e)?e:e.parent&&t(e.parent)}(e[0]);return n&&n.name?n.name.text:void 0},e.addSymbolToNgModuleMetadata=l,e.addDeclarationToModule=function(t,e,n,r){return l(t,e,"declarations",n,r)},e.addImportToModule=function(t,e,n,r){return l(t,e,"imports",n,r)},e.addProviderToModule=function(t,e,n,r){return l(t,e,"providers",n,r)},e.addExportToModule=function(t,e,n,r){return l(t,e,"exports",n,r)},e.addBootstrapToModule=function(t,e,n,r){return l(t,e,"bootstrap",n,r)},e.addEntryComponentToModule=function(t,e,n,r){return l(t,e,"entryComponents",n,r)},e.isImported=function(t,e,n){return a(t).filter(t=>t.kind===r.SyntaxKind.ImportDeclaration).filter(t=>t.moduleSpecifier.kind===r.SyntaxKind.StringLiteral).filter(t=>t.moduleSpecifier.text===n).filter(t=>!!t.importClause&&i(t.importClause,r.SyntaxKind.ImportSpecifier).filter(t=>t.getText()===e).length>0).length>0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.NoopChange=class{constructor(){this.description="No operation.",this.order=1/0,this.path=null}apply(){return Promise.resolve()}};e.InsertChange=class{constructor(t,e,n){if(this.path=t,this.pos=e,this.toAdd=n,e<0)throw new Error("Negative positions are invalid");this.description=`Inserted ${n} into position ${e} of ${t}`,this.order=e}apply(t){return t.read(this.path).then(e=>{const n=e.substring(0,this.pos),r=e.substring(this.pos);return t.write(this.path,`${n}${this.toAdd}${r}`)})}};e.RemoveChange=class{constructor(t,e,n){if(this.path=t,this.pos=e,this.toRemove=n,e<0)throw new Error("Negative positions are invalid");this.description=`Removed ${n} into position ${e} of ${t}`,this.order=e}apply(t){return t.read(this.path).then(e=>{const n=e.substring(0,this.pos),r=e.substring(this.pos+this.toRemove.length);return t.write(this.path,`${n}${r}`)})}};e.ReplaceChange=class{constructor(t,e,n,r){if(this.path=t,this.pos=e,this.oldText=n,this.newText=r,e<0)throw new Error("Negative positions are invalid");this.description=`Replaced ${n} into position ${e} of ${t} with ${r}`,this.order=e}apply(t){return t.read(this.path).then(e=>{const n=e.substring(0,this.pos),r=e.substring(this.pos+this.oldText.length),s=e.substring(this.pos,this.pos+this.oldText.length);return s!==this.oldText?Promise.reject(new Error(`Invalid replace: "${s}" != "${this.oldText}".`)):t.write(this.path,`${n}${this.newText}${r}`)})}}},function(t,e,n){"use strict";function r(t,e,n,r,o){const i=s(o);if(e.properties.length>0){const n=e.properties[e.properties.length-1];t.insertRight(n.start.offset+n.text.replace(/\s+$/,"").length,",")}t.insertLeft(e.end.offset-1,"  "+`"${n}": ${JSON.stringify(r,null,2).replace(/\n/g,i)}`+i.slice(0,-2))}function s(t){return"\n"+new Array(t+1).join(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.appendPropertyInAstObject=r,e.insertPropertyInAstObjectInOrder=function(t,e,n,o,i){if(0===e.properties.length)return void r(t,e,n,o,i);let a=null,u=null,c=!1;const p=e.properties[e.properties.length-1];for(const t of e.properties){if(t.key.value>n){u&&(a=u);break}t===p&&(c=!0,a=p),u=t}if(c)return void r(t,e,n,o,i);const l=s(i),d=null===a?e.start.offset+1:a.end.offset+1;t.insertRight(d,l+`"${n}": ${JSON.stringify(o,null,2).replace(/\n/g,l)}`+",")},e.appendValueInAstArray=function(t,e,n,r=4){const o=s(r);if(e.elements.length>0){const n=e.elements[e.elements.length-1];t.insertRight(n.start.offset+n.text.replace(/\s+$/,"").length,",")}t.insertLeft(e.end.offset-1,"  "+JSON.stringify(n,null,2).replace(/\n/g,o)+o.slice(0,-2))},e.findPropertyInAstObject=function(t,e){let n=null;for(const r of t.properties)r.key.value==e&&(n=r.value);return n}},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),s=n(2),o=n(5),i=n(6);function a(t,e){const n=t.read(e);if(!n)throw new s.SchematicsException(`Could not find file for path: ${e}`);const r=n.toString();return i.createSourceFile(e,r,i.ScriptTarget.Latest,!0)}function u(t,e,n,r){const i=a(t,e);if(!i)throw new s.SchematicsException(`Module not found: ${e}`);const u=o.addImportToModule(i,e,n,r),c=t.beginUpdate(e);u.forEach(t=>{t instanceof o.InsertChange&&c.insertLeft(t.pos,t.toAdd)}),t.commitUpdate(c)}e.getSourceFile=a,e.addModuleImportToRootModule=function(t,e,n,r){const s=r.targets||r.architect;u(t,o.getAppModulePath(t,s.build.options.main),e,n)},e.addModuleImportToModule=u,e.getIndexHtmlPath=function(t){const e=(t.targets||t.architect).build.options;if(e.index&&e.index.endsWith("index.html"))return e.index;throw new s.SchematicsException("No index.html file was found.")},e.getStylesPath=function(t){const e=(t.targets||t.architect).build;if(e.options&&e.options.styles&&e.options.styles.length){const t=e.options.styles.map(t=>"string"==typeof t?t:t.input),n=t.find(t=>/styles\.(c|le|sc)ss/.test(t));if(n)return r.normalize(n);const s=t.find(t=>/\.(c|le|sc)ss/.test(t));if(s)return r.normalize(s)}throw new s.SchematicsException("No style files could be found into which a theme could be added")}},function(t,e){t.exports=require("rxjs")},function(t,e){t.exports=require("rxjs/operators")},function(t,e){t.exports=require("request")},function(t,e){t.exports=require("once")},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),s=n(10),o=n(22);function i(t){try{return t.logger.log("info",`ðŸ§Ÿâ€ @angular-material-extensions/google-maps-autocomplete\n     is using the following version ${n(!function(){var t=new Error("Cannot find module '../../package.json'");throw t.code="MODULE_NOT_FOUND",t}()).version}`),n(!function(){var t=new Error("Cannot find module '../../package.json'");throw t.code="MODULE_NOT_FOUND",t}()).version}catch(t){return null}}function a(){return(t,e)=>{const n=p(t,"@angular/core");return[{type:o.NodeDependencyType.Default,version:i(e)||"latest",name:"@angular-material-extensions/google-maps-autocomplete"},{type:o.NodeDependencyType.Default,version:"^1.0.0-beta.7",name:"@agm/core"},{type:o.NodeDependencyType.Default,version:"^3.37.0",name:"@types/googlemaps"},{type:o.NodeDependencyType.Default,version:n||"^8.1.2",name:"@angular/animations"},{type:o.NodeDependencyType.Default,version:n||"^8.1.2",name:"@angular/forms"}].forEach(n=>{o.addPackageJsonDependency(t,n),e.logger.log("info",`âœ…ï¸ Added "${n.name}" into ${n.type}`)}),t}}function u(){return(t,e)=>(e.addTask(new s.NodePackageInstallTask),e.logger.log("info","ðŸ” Installing packages..."),t)}function c(t){return(e,n)=>{const r=o.getWorkspace(e),s=o.getProjectFromWorkspace(r,t.project?t.project:Object.keys(r.projects)[0]),i="MatGoogleMapsAutocompleteModule";return o.addModuleImportToRootModule(e,i,"@angular-material-extensions/google-maps-autocomplete",s),o.addModuleImportToRootModule(e,"AgmCoreModule.forRoot()","@agm/core",s),n.logger.log("info",`âœ…ï¸ "${i}" is imported`),e}}function p(t,e){if(!t.exists("package.json"))return null;const n=JSON.parse(t.read("package.json").toString("utf8"));return n.dependencies&&n.dependencies[e]?n.dependencies[e]:null}e.addPackageJsonDependencies=a,e.installPackageJsonDependencies=u,e.addModuleToImports=c,e.getPackageVersionFromPackageJson=p,e.default=function(t){return r.chain([t&&t.skipPackageJson?r.noop():a(),t&&t.skipPackageJson?r.noop():u(),t&&t.skipModuleImport?r.noop():c(t)])}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(5)),r(n(33)),r(n(42))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3),s=n(2);function o(t){return["/angular.json","/.angular.json"].filter(e=>t.exists(e))[0]}e.getWorkspacePath=o,e.getWorkspace=function(t){const e=o(t),n=t.read(e);if(null===n)throw new s.SchematicsException(`Could not find (${e})`);const i=n.toString();return r.parseJson(i,r.JsonParseMode.Loose)},e.addProjectToWorkspace=function(t,e,n){return(r,s)=>{if(t.projects[e])throw new Error(`Project '${e}' already exists in workspace.`);t.projects[e]=n,t.defaultProject||1!==Object.keys(t.projects).length||(t.defaultProject=e),r.overwrite(o(r),JSON.stringify(t,null,2))}},e.configPath="/.angular-cli.json",e.getConfig=function(t){const n=t.read(e.configPath);if(null===n)throw new s.SchematicsException("Could not find .angular-cli.json");return r.parseJson(n.toString(),r.JsonParseMode.Loose)},e.getAppFromConfig=function(t,e){return t.apps?parseInt(e)>=0?t.apps[parseInt(e)]:t.apps.filter(t=>t.name===e)[0]:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3),s=n(2),o=n(13),i="/package.json";var a;function u(t){const e=t.read(i);if(null===e)throw new s.SchematicsException("Could not read package.json.");const n=e.toString(),o=r.parseJsonAst(n,r.JsonParseMode.Strict);if("object"!=o.kind)throw new s.SchematicsException("Invalid package.json. Was expecting an object");return o}!function(t){t.Default="dependencies",t.Dev="devDependencies",t.Peer="peerDependencies",t.Optional="optionalDependencies"}(a=e.NodeDependencyType||(e.NodeDependencyType={})),e.addPackageJsonDependency=function(t,e){const n=u(t),r=o.findPropertyInAstObject(n,e.type),s=t.beginUpdate(i);if(r){if("object"===r.kind){const t=o.findPropertyInAstObject(r,e.name);if(t){if(e.overwrite){const{end:n,start:r}=t;s.remove(r.offset,n.offset-r.offset),s.insertRight(r.offset,JSON.stringify(e.version))}}else o.insertPropertyInAstObjectInOrder(s,r,e.name,e.version,4)}}else o.appendPropertyInAstObject(s,n,e.type,{[e.name]:e.version},2);t.commitUpdate(s)},e.getPackageJsonDependency=function(t,e){const n=u(t);let r=null;return[a.Default,a.Dev,a.Optional,a.Peer].forEach(t=>{if(null!==r)return;const s=o.findPropertyInAstObject(n,t);if(null!==s&&"object"===s.kind){const n=o.findPropertyInAstObject(s,e);if(null!==n&&"string"===n.kind){const s=n.value;r={type:t,name:e,version:s}}}}),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3);function s(t,e){let n=t.getDir("/"+e);const s=/\.module\.ts$/,o=/-routing\.module\.ts/;for(;n;){const t=n.subfiles.filter(t=>s.test(t)&&!o.test(t));if(1==t.length)return r.join(n.path,t[0]);if(t.length>1)throw new Error("More than one module matches. Use skip-import option to skip importing the component into the closest module.");n=n.parent}throw new Error("Could not find an NgModule. Use the skip-import option to skip importing in NgModule.")}e.findModuleFromOptions=function(t,e){if(!e.hasOwnProperty("skipImport")||!e.skipImport){if(e.module){const n=r.normalize("/"+e.path+"/"+e.module),s=r.normalize(n).split("/").pop();if(t.exists(n))return r.normalize(n);if(t.exists(n+".ts"))return r.normalize(n+".ts");if(t.exists(n+".module.ts"))return r.normalize(n+".module.ts");if(t.exists(n+"/"+s+".module.ts"))return r.normalize(n+"/"+s+".module.ts");throw new Error("Specified module does not exist")}{const n=(e.path||"")+(e.flat?"":"/"+r.strings.dasherize(e.name));return r.normalize(s(t,n))}}},e.findModule=s,e.buildRelativePath=function(t,e){t=r.normalize(t),e=r.normalize(e);const n=t.split("/"),s=e.split("/");n.pop();const o=s.pop(),i=r.relative(r.normalize(n.join("/")),r.normalize(s.join("/")));let a="";return i?i.startsWith(".")||(a="./"):a=".",a&&!a.endsWith("/")&&(a+="/"),a+(i?i+"/":"")+o}},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.latestVersions={Angular:"^6.1.0",RxJs:"^6.0.0",ZoneJs:"~0.8.26",TypeScript:"~2.9.2",DevkitBuildAngular:"~0.8.0-beta.0",DevkitBuildNgPackagr:"~0.8.0-beta.0"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(2),s=n(10);e.applyLintFix=function(t="/"){return(e,n)=>{let o=e.getDir(t.substr(0,t.lastIndexOf("/")));do{if(o.subfiles.includes("tslint.json"))break;o=o.parent}while(null!==o);if(null===o)throw new r.SchematicsException("Asked to run lint fixes, but could not find a tslint.json.");const i=e.actions.reduce((t,e)=>{const n=e.path.substr(1);return n.endsWith(".ts")&&o&&e.path.startsWith(o.path)&&t.add(n),t},new Set);n.addTask(new s.TslintFixTask({ignoreErrors:!0,tsConfigPath:"tsconfig.json",files:[...i]},{}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3),s=n(2),o=n(7),i=n(6),a=n(11);function u(t,e){const n=t.read(e);if(!n)throw new s.SchematicsException(`Main file (${e}) not found`);const r=n.toString("utf-8"),o=i.createSourceFile(e,r,i.ScriptTarget.Latest,!0),u=a.getSourceNodes(o);let c=null;for(const t of u){let e=null;for(e=a.findNode(t,i.SyntaxKind.Identifier,"bootstrapModule");e&&e.parent&&e.parent.kind!==i.SyntaxKind.CallExpression;)e=e.parent;if(null!==e&&void 0!==e.parent&&e.parent.kind===i.SyntaxKind.CallExpression){c=e.parent;break}}return c}function c(t,e){const n=u(t,e);if(!n)throw new s.SchematicsException("Bootstrap call not found");const r=n.arguments[0],o=t.read(e);if(!o)throw new s.SchematicsException(`Client app main file (${e}) not found`);const c=o.toString("utf-8"),p=i.createSourceFile(e,c,i.ScriptTarget.Latest,!0);return a.getSourceNodes(p).filter(t=>t.kind===i.SyntaxKind.ImportDeclaration).filter(t=>a.findNode(t,i.SyntaxKind.Identifier,r.getText())).map(t=>{return t.moduleSpecifier.text})[0]}e.findBootstrapModuleCall=u,e.findBootstrapModulePath=c,e.getAppModulePath=function(t,e){const n=c(t,e),s=o.dirname(e);return r.normalize(`/${s}/${n}.ts`)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3);e.parseName=function(t,e){const n=r.basename(e),s=r.dirname(t+"/"+e);return{name:n,path:r.normalize("/"+s)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildDefaultPath=function(t){return`${t.sourceRoot?`/${t.sourceRoot}/`:`/${t.root}/src/`}${"application"===t.projectType?"app":"lib"}`}},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.getProjectTargets=function(t){const e=t.targets||t.architect;if(!e)throw new Error("Project targets not found.");return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3),s=n(2);e.validateName=function(t){if(t&&/^\d/.test(t))throw new s.SchematicsException(r.tags.oneLine`name (${t})
        can not start with a digit.`)},e.htmlSelectorRe=/^[a-zA-Z][.0-9a-zA-Z]*(:?-[a-zA-Z][.0-9a-zA-Z]*)*$/,e.validateHtmlSelector=function(t){if(t&&!e.htmlSelectorRe.test(t))throw new s.SchematicsException(r.tags.oneLine`Selector (${t})
        is invalid.`)},e.validateProjectName=function(t){const e=function(t){/^@.*\/.*/.test(t)&&(t=(t=t.replace(/^@/,"")).replace(/\//g,"-"));const e=t.indexOf("-")>=0?t.split("-"):[t],n=[],r=/^[a-zA-Z][.0-9a-zA-Z]*(-[.0-9a-zA-Z]*)*$/;e.forEach(t=>{t.match(r)&&n.push(t)});const s=n.join("-");return t!==s?s.length:null}(t);if(null!==e){const n=r.tags.oneLine`
    Project name "${t}" is not valid. New project names must
    start with a letter, and must contain only alphanumeric characters or dashes.
    When adding a dash the segment after the dash must also start with a letter.
    `,o=r.tags.stripIndent`
    ${n}
    ${t}
    ${Array(e+1).join(" ")+"^"}
    `;throw new s.SchematicsException(o)}if(-1!==["test","ember","ember-cli","vendor","app"].indexOf(t))throw new s.SchematicsException(`Project name ${JSON.stringify(t)} is not a supported name.`);if(!/^(?:@[a-zA-Z0-9_-]+\/)?[a-zA-Z0-9_-]+$/.test(t))throw new s.SchematicsException(`Project name ${JSON.stringify(t)} is invalid.`)}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(14)),r(n(34)),r(n(35)),r(n(36)),r(n(38)),r(n(39)),r(n(40))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r=n(3),s=n(2),o=n(5),i=n(7),a=n(8),u=n(6);function c(t,e){const n=t.read(e);if(null===n)throw new s.SchematicsException(`File ${e} does not exist.`);const r=n.toString("utf-8");return u.createSourceFile(e,r,u.ScriptTarget.Latest,!0)}function p(t){return e=>{if(t.skipImport||!t.module)return e;const n=t.module,s=c(e,n),i=`/${t.path}/`+(t.flat?"":r.strings.dasherize(t.name)+"/")+r.strings.dasherize(t.name)+".component",a=o.buildRelativePath(n,i),u=r.strings.classify(`${t.name}Component`),p=o.addDeclarationToModule(s,n,u,a),l=e.beginUpdate(n);for(const t of p)t instanceof o.InsertChange&&l.insertLeft(t.pos,t.toAdd);if(e.commitUpdate(l),t.export){const s=c(e,n),i=e.beginUpdate(n),u=o.addExportToModule(s,n,r.strings.classify(`${t.name}Component`),a);for(const t of u)t instanceof o.InsertChange&&i.insertLeft(t.pos,t.toAdd);e.commitUpdate(i)}if(t.entryComponent){const s=c(e,n),i=e.beginUpdate(n),u=o.addEntryComponentToModule(s,n,r.strings.classify(`${t.name}Component`),a);for(const t of u)t instanceof o.InsertChange&&i.insertLeft(t.pos,t.toAdd);e.commitUpdate(i)}return e}}function l(t,e){let n=r.strings.dasherize(t.name);return t.prefix?n=`${t.prefix}-${n}`:void 0===t.prefix&&e&&(n=`${e}-${n}`),n}function d(t,e){return t.replace(/(\r\n|\r|\n)/g,`$1${" ".repeat(e)}`)}e.readIntoSourceFile=c,e.addDeclarationToNgModule=p,e.buildSelector=l,e.indentTextContent=d,e.buildComponent=function(t,e={}){return(n,u)=>{const c=o.getWorkspace(n),f=c.projects[t.project||c.defaultProject],h=i.resolve(i.dirname(u.schematic.description.path),"./files");void 0===t.path&&(t.path=o.buildDefaultPath(f)),t.module=o.findModuleFromOptions(n,t);const g=o.parseName(t.path,t.name);t.name=g.name,t.path=g.path,t.selector=t.selector||l(t,f.prefix),o.validateName(t.name),o.validateHtmlSelector(t.selector);const m=Object.assign({},r.strings,{"if-flat":e=>t.flat?"":e},t),y={};for(let t in e)if(e[t]){const n=a.readFileSync(i.join(h,e[t]),"utf-8");y[t]=r.template(n)(m)}const v=s.apply(s.url("./files"),[t.spec?s.noop():s.filter(t=>!t.endsWith(".spec.ts")),t.inlineStyle?s.filter(t=>!t.endsWith(".__styleext__")):s.noop(),t.inlineTemplate?s.filter(t=>!t.endsWith(".html")):s.noop(),s.template(Object.assign({indentTextContent:d,resolvedFiles:y},m)),s.move(null,g.path)]);return s.chain([s.branchAndMerge(s.chain([p(t),s.mergeWith(v)]))])(n,u)}}},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.getProjectFromWorkspace=function(t,e){let n=t.projects[e||t.defaultProject];if(!n)throw new Error(`Could not find project in workspace: ${e}`);return n}},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),s=n(37),o=n(14),i=n(5);function a(t){const e=s.parse(t,{sourceCodeLocationInfo:!0});let n;const o=t=>{t.forEach(t=>{const e=t;"head"===e.tagName?n=e:e.childNodes&&o(e.childNodes)})};if(o(e.childNodes),!n)throw new r.SchematicsException("Head element not found!");return{position:n.sourceCodeLocation.startTag.endOffset}}e.getHeadTag=a,e.addHeadLink=function(t,e,n){const s=o.getIndexHtmlPath(e),u=t.read(s);if(!u)throw new r.SchematicsException(`Could not find file for path: ${s}`);const c=u.toString();if(-1===c.indexOf(n)){const e=a(c),r=new i.InsertChange(s,e.position,n),o=t.beginUpdate(s);o.insertLeft(r.pos,r.toAdd),t.commitUpdate(o)}}},function(t,e){t.exports=require("parse5")},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.materialVersion="^6.2.0",e.angularVersion="^6.0.0"},function(t,e,n){"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.addPackageToPackageJson=function(t,e,n,r){if(t.exists("package.json")){const s=t.read("package.json").toString("utf-8"),o=JSON.parse(s);o[e]||(o[e]={}),o[e][n]||(o[e][n]=r),t.overwrite("package.json",JSON.stringify(o,null,2))}return t}},function(t,e,n){"use strict";(function(t){
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(e,"__esModule",{value:!0});const r=n(41),s=n(7),o=n(15),i=n(16);e.collectionPath=s.join(t,"..","test-collection.json"),e.migrationCollection=s.join(t,"..","test-migration.json"),e.createTestApp=function(){const t=new r.SchematicTestRunner("material-schematics",e.collectionPath),n=t.runExternalSchematic("@schematics/angular","workspace",{name:"workspace",version:"6.0.0",newProjectRoot:"projects"});return t.runExternalSchematic("@schematics/angular","application",{name:"material",inlineStyle:!1,inlineTemplate:!1,routing:!1,style:"scss",skipTests:!1},n)},e.runPostScheduledTasks=function(t,e){const n=t.engine._host,r=t.engine._taskSchedulers;return o.from(r).pipe(i.concatMap(t=>t.finalize()),i.filter(t=>t.configuration.name===e),i.concatMap(t=>n.createTaskExecutor(t.configuration.name).pipe(i.concatMap(e=>e(t.configuration.options,t.context)))),i.last())}}).call(this,"/")},function(t,e){t.exports=require("@angular-devkit/schematics/testing")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(43))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(44),s=n(8),o=n(15),i=n(16),a=n(1),u=n(45),c=new Map,p=new Map;function l(t){return new o.Observable(t=>{const e=n(7),r=n(8);let s="";"win32"===process.platform?process.env.LOCALAPPDATA&&(s=r.readFileSync(e.join(process.env.LOCALAPPDATA,".npmrc")).toString("utf-8")):process.env.HOME&&(s=r.readFileSync(e.join(process.env.HOME,".npmrc")).toString("utf-8"));const o=s.split(/\r?\n/).map(t=>t.trim()),i={};o.forEach(t=>{const[e,...n]=t.split("=");i[e]=n.join("=")}),t.next(i),t.complete()}).pipe(i.catchError(()=>o.of({})),i.shareReplay()).pipe(i.map(e=>e[t]))}function d(t){return new o.Observable(e=>{r.exec(`npm get ${t}`,(t,n)=>{if(t)throw t;(n=n.trim())&&"undefined"!==n&&"null"!==n?e.next(n):e.next(),e.complete()})}).pipe(i.catchError(()=>o.of()),i.shareReplay())}function f(t,e,n){if(e&&n)return o.concat(f(t,e),f(t)).pipe(i.filter(t=>!!t),i.defaultIfEmpty(),i.first());const r=`${e?e+":":""}${t}`;let s=p.get(r);return s||(s=t.startsWith("_")?l(r):d(r),p.set(r,s),s)}function h(t,e){const n={};return"false"===t?n.strict=!1:"true"===t&&(n.strict=!0),e&&(n.ca=s.readFileSync(e)),n}e.getOptionFromNpmRc=l,e.getOptionFromNpmCli=d,e.getNpmConfigOption=f,e.getNpmClientSslOptions=h,e.getNpmPackageJson=function(t,e,n){const r=t.startsWith("@")?t.split("/")[0]:void 0;return(e?o.of(e):f("registry",r,!0)).pipe(i.map(e=>{e||(e="https://registry.npmjs.org/");const r=a.parse(e);let s=new a.URL(`http://${r.host}/${t.replace(/\//g,"%2F")}`);try{const n=new a.URL(e);n.pathname=(n.pathname||"").replace(/\/?$/,"/"+t.replace(/\//g,"%2F")),s=new a.URL(a.format(n))}catch(t){}return n.debug(`Getting package.json from '${t}' (url: ${JSON.stringify(s)})...`),s}),i.concatMap(t=>{let e=c.get(t.toString());if(e)return e;const n=`//${t.host}/`;return o.concat(f("proxy"),f("https-proxy"),f("strict-ssl"),f("cafile"),f("_auth"),f("_authToken",n),f("username",n,!0),f("password",n,!0),f("alwaysAuth",n,!0)).pipe(i.toArray(),i.concatMap(n=>{const[r,s,i,a,p,l,d,f,g]=n,m=new o.ReplaySubject(1),y=h(i,a),v={};void 0!==g&&(v.alwaysAuth="false"!==g&&!!g),l?v.token=l:p?v.token=p:d&&(v.username=d,v.password=f);const b=new u({proxy:{http:r,https:s},ssl:y});b.log.level="silent";const x={timeout:3e4,auth:v};return b.get(t.toString(),x,(t,e)=>{t&&m.error(t),m.next(e),m.complete()}),e=m.asObservable(),c.set(t.toString(),e),e}))}))}},function(t,e){t.exports=require("child_process")},function(t,e,n){var r;t.exports=function(t){this.config=Object.create(t||{}),this.config.proxy=this.config.proxy||{},!this.config.proxy.https&&this.config.proxy.http&&(this.config.proxy.https=this.config.proxy.http);this.config.ssl=this.config.ssl||{},void 0===this.config.ssl.strict&&(this.config.ssl.strict=!0);this.config.retry=this.config.retry||{},"number"!=typeof this.config.retry.retries&&(this.config.retry.retries=2);"number"!=typeof this.config.retry.factor&&(this.config.retry.factor=10);"number"!=typeof this.config.retry.minTimeout&&(this.config.retry.minTimeout=1e4);"number"!=typeof this.config.retry.maxTimeout&&(this.config.retry.maxTimeout=6e4);"number"!=typeof this.config.maxSockets&&(this.config.maxSockets=50);this.config.userAgent=this.config.userAgent||"node/"+process.version,this.config.defaultTag=this.config.defaultTag||"latest",this.log=this.config.log||r,delete this.config.log;this.access=n(47),this.adduser=n(48),this.attempt=n(49),this.authify=n(51),this.deprecate=n(52),this.distTags=Object.create(this),this.distTags.add=n(53),this.distTags.fetch=n(54),this.distTags.rm=n(55),this.distTags.set=n(56),this.distTags.update=n(57),this.fetch=n(58),this.get=n(59),this.initialize=n(60),this.logout=n(64),this.org=n(65),this.ping=n(66),this.publish=n(67),this.request=n(71),this.sendAnonymousCLIMetrics=n(73),this.star=n(74),this.stars=n(75),this.tag=n(76),this.team=n(77),this.unpublish=n(78),this.whoami=n(80)};try{r=n(46)}catch(t){r={error:s,warn:s,info:s,verbose:s,silly:s,http:s,pause:s,resume:s}}function s(){}},function(t,e){t.exports=require("npmlog")},function(t,e,n){t.exports=function(t,e,n,s){return function(t,e,n,s){r(i.hasOwnProperty(t),"access subcommand must be one of "+Object.keys(i).join(", ")),p({uri:[e,"string"],params:[n,"object"],auth:[n.auth,"object"],callback:[s,"function"]}),l(["public","restricted"],t)&&(p({package:[n.package,"string"]}),r(!!o(n.package).scope,"access commands are only accessible for scoped packages")),l(["grant","revoke","ls-packages"],t)&&p({scope:[n.scope,"string"]}),l(["grant","revoke"],t)&&p({team:[n.team,"string"]}),"grant"===t&&(p({permissions:[n.permissions,"string"]}),r("read-only"===n.permissions||"read-write"===n.permissions,"permissions must be either read-only or read-write"))}(t,e,n,s),i[t].call(this,e,n,s)};var r=n(0),s=n(1),o=n(4),i={};function a(t,e,n,r){return this.request(c(e,"package",n.package,"access"),{method:"POST",auth:n.auth,body:JSON.stringify({access:t})},r)}function u(t,e,n,r){return this.request(c(e,"package",n.package,"access"),{method:"POST",auth:n.auth,body:JSON.stringify({publish_requires_tfa:t})},r)}function c(t){var e=Array.prototype.slice.call(arguments,1).filter(function(t){return t}).map(encodeURIComponent).join("/");return s.resolve(t,"-/"+e)}function p(t){Object.keys(t).forEach(function(e){var n=t[e];r(typeof n[0]===n[1],e+" is required and must be of type "+n[1])})}function l(t,e){return-1!==t.indexOf(e)}function d(t){var e={};for(var n in t)t.hasOwnProperty(n)&&("read"===t[n]?e[n]="read-only":"write"===t[n]?e[n]="read-write":e[n]=t[n]);return e}i.public=function(t,e,n){return a.call(this,"public",t,e,n)},i.restricted=function(t,e,n){return a.call(this,"restricted",t,e,n)},i["2fa-required"]=function(t,e,n){return u.call(this,!0,t,e,n)},i["2fa-not-required"]=function(t,e,n){return u.call(this,!1,t,e,n)},i.grant=function(t,e,n){var r=c(t,"team",e.scope,e.team,"package");return this.request(r,{method:"PUT",auth:e.auth,body:JSON.stringify({permissions:e.permissions,package:e.package})},n)},i.revoke=function(t,e,n){var r=c(t,"team",e.scope,e.team,"package");return this.request(r,{method:"DELETE",auth:e.auth,body:JSON.stringify({package:e.package})},n)},i["ls-packages"]=function(t,e,n,r){r=r||(e.team?"team":"org");var s=this,o=c(t,r,e.scope,e.team,"package");return s.request(o+"?format=cli",{method:"GET",auth:e.auth},function(o,a){o&&404===o.statusCode&&"org"===r?i["ls-packages"].call(s,t,e,n,"user"):n(o,a&&d(a))})},i["ls-collaborators"]=function(t,e,n){var r="?format=cli";e.user&&(r+="&user="+encodeURIComponent(e.user));var s=c(t,"package",e.package,"collaborators");return this.request(s+r,{method:"GET",auth:e.auth},function(t,e){n(t,e&&d(e))})},i.edit=function(){throw new Error("edit subcommand is not implemented yet")}},function(t,e,n){t.exports=function(t,e,n){s("string"==typeof t,"must pass registry URI to adduser"),s(e&&"object"==typeof e,"must pass params to adduser"),s("function"==typeof n,"must pass callback to adduser"),s(e.auth&&typeof e.auth,"must pass auth to adduser");var o=e.auth;s("string"==typeof o.username,"must include username in auth"),s("string"==typeof o.password,"must include password in auth"),s("string"==typeof o.email,"must include email in auth"),"/"!==t.slice(-1)&&(t+="/");var i=o.username.trim(),a=o.password.trim(),u=o.email.trim();if(!i)return n(new Error("No username supplied."));if(!a)return n(new Error("No password supplied."));if(!u)return n(new Error("No email address supplied."));if(!u.match(/^[^@]+@[^.]+\.[^.]+/))return n(new Error("Please use a real email address."));var c={_id:"org.couchdb.user:"+i,name:i,password:a,email:u,type:"user",roles:[],date:(new Date).toISOString()},p=this.config.couchToken;this.couchLogin&&(this.couchLogin.token=null);n=function(t,e){return function(n,r,s,o){return n||o&&201!==o.statusCode?(d.couchLogin&&(d.couchLogin.token=t,d.couchLogin.tokenSet&&d.couchLogin.tokenSet(t)),d.log.verbose("adduser","back",[n,r,s]),n||(n=new Error((o&&o.statusCode||"")+" Could not create user\n"+JSON.stringify(r))),!o||401!==o.statusCode&&403!==o.statusCode||d.log.warn("adduser","Incorrect username or password\nYou can reset your account by visiting:\n\n    https://npmjs.org/forgot\n"),e(n)):e(n,r,s,o)}}.call(this,p,n);var l=Object.keys(c).map(function(t){return"password"===t?[t,"XXXXX"]:[t,c[t]]}).reduce(function(t,e){return t[e[0]]=e[1],t},{});this.log.verbose("adduser","before first PUT",l);var d=this;t=r.resolve(t,"-/user/org.couchdb.user:"+encodeURIComponent(i));var f={method:"PUT",body:c,auth:o};this.request(t,Object.assign({},f),function(e,r,s,i){return e&&i&&409===i.statusCode?(d.log.verbose("adduser","update existing user"),d.request(t+"?write=true",{auth:o},function(e,r,s,o){if(e||r.error)return n(e,r,s,o);Object.keys(r).forEach(function(t){c[t]&&"roles"!==t||(c[t]=r[t])}),d.log.verbose("adduser","userobj",l),d.request(t+"/-rev/"+c._rev,f,n)})):n(e,r,s,i)})};var r=n(1),s=n(0)},function(t,e,n){var r=n(50);t.exports=function(t){var e=r.operation(this.config.retry),n=this;e.attempt(function(r){n.log.info("attempt","registry request try #"+r+" at "+(new Date).toLocaleTimeString()),t(e)})}},function(t,e){t.exports=require("retry")},function(t,e){t.exports=function(t,e,n,r){r&&r.otp&&(this.log.verbose("request","passing along npm otp"),n["npm-otp"]=r.otp);if(r&&r.token)return this.log.verbose("request","using bearer token for auth"),n.authorization="Bearer "+r.token,null;if(t){if(!(r&&r.username&&r.password))return new Error("This request requires auth credentials. Run `npm login` and repeat the request.");var s=encodeURIComponent(r.username),o=encodeURIComponent(r.password);e.auth=s+":"+o}}},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to deprecate"),r(e&&"object"==typeof e,"must pass params to deprecate"),r("function"==typeof n,"must pass callback to deprecate"),r("string"==typeof e.version,"must pass version to deprecate"),r("string"==typeof e.message,"must pass message to deprecate"),r(e.auth&&"object"==typeof e.auth,"must pass auth to deprecate");var o=e.version,i=e.message,a=e.auth;if(null===s.validRange(o))return n(new Error("invalid version range: "+o));this.get(t+"?write=true",{auth:a},function(e,r){if(e)return n(e);Object.keys(r.versions).filter(function(t){return s.satisfies(t,o)}).forEach(function(t){r.versions[t].deprecated=i});var u={method:"PUT",body:r,auth:a};this.request(t,u,n)}.bind(this))};var r=n(0),s=n(9)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to distTags.add"),r(e&&"object"==typeof e,"must pass params to distTags.add"),r("function"==typeof n,"muss pass callback to distTags.add"),r("string"==typeof e.package,"must pass package name to distTags.add"),r("string"==typeof e.distTag,"must pass package distTag name to distTags.add"),r("string"==typeof e.version,"must pass version to be mapped to distTag to distTags.add"),r(e.auth&&"object"==typeof e.auth,"must pass auth to distTags.add");var i="-/package/"+(o(e.package).scope?e.package.replace("/","%2f"):e.package)+"/dist-tags/"+e.distTag,a={method:"PUT",body:JSON.stringify(e.version),auth:e.auth};this.request(s.resolve(t,i),a,n)};var r=n(0),s=n(1),o=n(4)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to distTags.fetch"),r(e&&"object"==typeof e,"must pass params to distTags.fetch"),r("function"==typeof n,"must pass callback to distTags.fetch"),r("string"==typeof e.package,"must pass package name to distTags.fetch"),r(e.auth&&"object"==typeof e.auth,"must pass auth to distTags.fetch");var i="-/package/"+(o(e.package).scope?e.package.replace("/","%2f"):e.package)+"/dist-tags",a={method:"GET",auth:e.auth};this.request(s.resolve(t,i),a,function(t,e){e&&"object"==typeof e&&delete e._etag,n(t,e)})};var r=n(0),s=n(1),o=n(4)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to distTags.rm"),r(e&&"object"==typeof e,"must pass params to distTags.rm"),r("function"==typeof n,"muss pass callback to distTags.rm"),r("string"==typeof e.package,"must pass package name to distTags.rm"),r("string"==typeof e.distTag,"must pass package distTag name to distTags.rm"),r(e.auth&&"object"==typeof e.auth,"must pass auth to distTags.rm");var i="-/package/"+(o(e.package).scope?e.package.replace("/","%2f"):e.package)+"/dist-tags/"+e.distTag,a={method:"DELETE",auth:e.auth};this.request(s.resolve(t,i),a,n)};var r=n(0),s=n(1),o=n(4)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to distTags.set"),r(e&&"object"==typeof e,"must pass params to distTags.set"),r("function"==typeof n,"muss pass callback to distTags.set"),r("string"==typeof e.package,"must pass package name to distTags.set"),r(e.distTags&&"object"==typeof e.distTags,"must pass distTags map to distTags.set"),r(e.auth&&"object"==typeof e.auth,"must pass auth to distTags.set");var i="-/package/"+(o(e.package).scope?e.package.replace("/","%2f"):e.package)+"/dist-tags",a={method:"PUT",body:JSON.stringify(e.distTags),auth:e.auth};this.request(s.resolve(t,i),a,n)};var r=n(0),s=n(1),o=n(4)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to distTags.update"),r(e&&"object"==typeof e,"must pass params to distTags.update"),r("function"==typeof n,"muss pass callback to distTags.update"),r("string"==typeof e.package,"must pass package name to distTags.update"),r(e.distTags&&"object"==typeof e.distTags,"must pass distTags map to distTags.update"),r(e.auth&&"object"==typeof e.auth,"must pass auth to distTags.update");var i="-/package/"+(o(e.package).scope?e.package.replace("/","%2f"):e.package)+"/dist-tags",a={method:"POST",body:JSON.stringify(e.distTags),auth:e.auth};this.request(s.resolve(t,i),a,n)};var r=n(0),s=n(1),o=n(4)},function(t,e,n){var r=n(0),s=n(1),o=n(17),i=n(18);t.exports=function(t,e,n){r("string"==typeof t,"must pass uri to request"),r(e&&"object"==typeof e,"must pass params to request"),r("function"==typeof n,"must pass callback to request"),n=i(n);var a=this;this.attempt(function(r){(function(t,e,n){var r=s.parse(t);this.log.http("fetch","GET",r.href);var i=e.headers||{},a=this.authify(e.auth&&e.auth.alwaysAuth,r,i,e.auth);if(a)return n(a);var u=this.initialize(r,"GET","application/x-tar, application/vnd.github+json; q=0.1",i);u.followRedirect=!0,n(null,o(u))}).call(a,t,e,function(e,s){if(e)return n(e);function o(t){r.retry(t)?a.log.info("retry","will retry, error on last attempt: "+t):n(t)}s.once("error",o),s.on("response",function(e){var i;a.log.http("fetch",""+e.statusCode,t),s.removeListener("error",o);var u=e&&e.statusCode;if(200===u)return e.resume(),s.once("error",function(t){e.emit("error",t)}),n(null,e);408===u?i=new Error("request timed out"):u>=500&&(i=new Error("server error "+u)),i&&r.retry(i)?a.log.info("retry","will retry, error on last attempt: "+i):n(new Error("fetch failed with status code "+u))})})})}},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to get"),r(e&&"object"==typeof e,"must pass params to get"),r("function"==typeof n,"must pass callback to get");var o=s.parse(t);r("http:"===o.protocol||"https:"===o.protocol,"must have a URL that starts with http: or https:"),this.request(t,e,n)};var r=n(0),s=n(1)},function(t,e,n){var r=n(61),s=n(19).Agent,o=n(62).Agent,i=n(63);function a(t){return"https:"===t?(this.httpsAgent||(this.httpsAgent=new o({keepAlive:!0,maxSockets:this.config.maxSockets,localAddress:this.config.proxy.localAddress,rejectUnauthorized:this.config.ssl.strict,ca:this.config.ssl.ca,cert:this.config.ssl.certificate,key:this.config.ssl.key})),this.httpsAgent):(this.httpAgent||(this.httpAgent=new s({keepAlive:!0,maxSockets:this.config.maxSockets,localAddress:this.config.proxy.localAddress})),this.httpAgent)}t.exports=function(t,e,n,s){this.config.sessionToken||(this.config.sessionToken=r.randomBytes(8).toString("hex"),this.log.verbose("request id",this.config.sessionToken));null==this.config.isFromCI&&(this.config.isFromCI=Boolean("true"===process.env.CI||process.env.TDDIUM||process.env.JENKINS_URL||process.env["bamboo.buildKey"]||process.env.GO_PIPELINE_NAME));var o={url:t,method:e,headers:s,localAddress:this.config.proxy.localAddress,strictSSL:this.config.ssl.strict,cert:this.config.ssl.certificate,key:this.config.ssl.key,ca:this.config.ssl.ca,agent:a.call(this,t.protocol)};if(!1===this.config.proxy.http)o.proxy=null;else{var u;"string"==typeof(u="https:"===t.protocol?this.config.proxy.https:this.config.proxy.http)&&(o.proxy=u)}s.version=this.version||i.version,s.accept=n,this.refer&&(s.referer=this.refer);s["npm-session"]=this.config.sessionToken,s["npm-in-ci"]=String(this.config.isFromCI),s["user-agent"]=this.config.userAgent,this.config.scope&&(s["npm-scope"]=this.config.scope);return o}},function(t,e){t.exports=require("crypto")},function(t,e){t.exports=require("https")},function(t){t.exports={_from:"npm-registry-client@^8.5.1",_id:"npm-registry-client@8.6.0",_inBundle:!1,_integrity:"sha512-Qs6P6nnopig+Y8gbzpeN/dkt+n7IyVd8f45NTMotGk6Qo7GfBmzwYx6jRLoOOgKiMnaQfYxsuyQlD8Mc3guBhg==",_location:"/npm-registry-client",_phantomChildren:{"safe-buffer":"5.1.2"},_requested:{type:"range",registry:!0,raw:"npm-registry-client@^8.5.1",name:"npm-registry-client",escapedName:"npm-registry-client",rawSpec:"^8.5.1",saveSpec:null,fetchSpec:"^8.5.1"},_requiredBy:["/schematics-utilities"],_resolved:"https://registry.npmjs.org/npm-registry-client/-/npm-registry-client-8.6.0.tgz",_shasum:"7f1529f91450732e89f8518e0f21459deea3e4c4",_spec:"npm-registry-client@^8.5.1",_where:"/Users/anthonynahas/Git/angular-material-extensions/google-maps-autocomplete/node_modules/schematics-utilities",author:{name:"Isaac Z. Schlueter",email:"i@izs.me",url:"http://blog.izs.me/"},bugs:{url:"https://github.com/npm/npm-registry-client/issues"},bundleDependencies:!1,dependencies:{"concat-stream":"^1.5.2","graceful-fs":"^4.1.6","normalize-package-data":"~1.0.1 || ^2.0.0","npm-package-arg":"^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0",npmlog:"2 || ^3.1.0 || ^4.0.0",once:"^1.3.3",request:"^2.74.0",retry:"^0.10.0","safe-buffer":"^5.1.1",semver:"2 >=2.2.1 || 3.x || 4 || 5",slide:"^1.1.3",ssri:"^5.2.4"},deprecated:!1,description:"Client for the npm registry",devDependencies:{negotiator:"^0.6.1",nock:"^9.0.9","readable-stream":"^2.1.5","require-inject":"^1.4.0",rimraf:"^2.5.4",standard:"^11.0.0","standard-version":"^4.3.0",tap:"^12.0.1"},files:["lib","index.js"],homepage:"https://github.com/npm/npm-registry-client#readme",license:"ISC",main:"index.js",name:"npm-registry-client",optionalDependencies:{npmlog:"2 || ^3.1.0 || ^4.0.0"},repository:{url:"git+https://github.com/npm/npm-registry-client.git"},scripts:{postrelease:"npm publish && git push --follow-tags",prerelease:"npm t",pretest:"standard",release:"standard-version -s",test:"tap --nyc-arg=--all --coverage test/*.js"},version:"8.6.0"}},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to logout"),r(e&&"object"==typeof e,"must pass params to logout"),r("function"==typeof n,"must pass callback to star");var o=e.auth;r(o&&"object"==typeof o,"must pass auth to logout"),r("string"==typeof o.token,"can only log out for token auth"),t=s.resolve(t,"-/user/token/"+o.token);var i={method:"DELETE",auth:o};this.log.verbose("logout","invalidating session token for user"),this.request(t,i,n)};var r=n(0),s=n(1)},function(t,e,n){"use strict";t.exports=function(t,e,n,s){return function(t,e,n,s){r(t,"subcommand is required"),r(o.hasOwnProperty(t),"org subcommand must be one of "+Object.keys(o)),r("string"==typeof e,"registry URI is required"),r("object"==typeof n,"params are required"),r("object"==typeof n.auth,"auth is required"),r(!s||"function"==typeof s,"callback must be a function"),r("string"==typeof n.org,"org name is required"),("rm"===t||"add"===t||"set"===t)&&r("string"==typeof n.user,"user is required")}(t,e,n,s),o[t].call(this,e,n,s)};var r=n(0),s=n(1),o={};function i(t){var e=Array.prototype.slice.call(arguments,1).map(encodeURIComponent).join("/");return s.resolve(t,"-/"+e)}o.set=o.add=function(t,e,n){return this.request(i(t,"org",e.org,"user"),{method:"PUT",auth:e.auth,body:JSON.stringify({user:e.user,role:e.role})},n)},o.rm=function(t,e,n){return this.request(i(t,"org",e.org,"user"),{method:"DELETE",auth:e.auth,body:JSON.stringify({user:e.user})},n)},o.ls=function(t,e,n){return this.request(i(t,"org",e.org,"user"),{method:"GET",auth:e.auth},n)}},function(t,e,n){t.exports=function(t,e,n){s("string"==typeof t,"must pass registry URI to ping"),s(e&&"object"==typeof e,"must pass params to ping"),s("function"==typeof n,"must pass callback to ping");var o=e.auth;s(o&&"object"==typeof o,"must pass auth to ping"),this.request(r.resolve(t,"-/ping?write=true"),{auth:o},function(t,e,r,s){t||e?n(t,e,r,s):n(new Error("No data received"))})};var r=n(1),s=n(0)},function(t,e,n){t.exports=function(t,e,n){i("string"==typeof t,"must pass registry URI to publish"),i(e&&"object"==typeof e,"must pass params to publish"),i("function"==typeof n,"must pass callback to publish");var l=e.access;i(!l||-1!==["public","restricted"].indexOf(l),"if present, access level must be either 'public' or 'restricted'");var d=e.auth;if(i(d&&"object"==typeof d,"must pass auth to publish"),!(d.token||d.password&&d.username&&d.email)){var f=new Error("auth required for publishing");return f.code="ENEEDAUTH",n(f)}var h=e.metadata;i(h&&"object"==typeof h,"must pass package metadata to publish");try{a.fixNameField(h,{strict:!0,allowLegacyCase:!0})}catch(f){return n(f)}var g=s.clean(h.version);if(!g)return n(new Error("invalid semver: "+h.version));h.version=g;var m=e.body;i(m,"must pass package body to publish"),i(m instanceof o,"package body passed to publish must be a stream");var y=this,v=u(function(e){(function(t,e,n,o,i,a){var u={_id:e.name,name:e.name,description:e.description,"dist-tags":{},versions:{},readme:e.readme||""};o&&(u.access=o);i.token||(u.maintainers=[{name:i.username,email:i.email}],e.maintainers=JSON.parse(JSON.stringify(u.maintainers)));u.versions[e.version]=e;var l=e.tag||this.config.defaultTag;u["dist-tags"][l]=e.version;var d=e.name+"-"+e.version+".tgz",f=e.name+"/-/"+d,h=c.fromData(n,{algorithms:["sha1","sha512"]});e._id=e.name+"@"+e.version,e.dist=e.dist||{},e.dist.integrity=h.sha512[0].toString(),e.dist.shasum=h.sha1[0].hexDigest(),e.dist.tarball=r.resolve(t,f).replace(/^https:\/\//,"http://"),u._attachments={},u._attachments[d]={content_type:"application/octet-stream",data:n.toString("base64"),length:n.length};var g=r.resolve(t,p(e.name)),m=this,y={method:"PUT",body:u,auth:i};this.request(g,y,function(n,o,c,l){var d=l&&409===l.statusCode;return!o||"must supply latest _rev to update existing package"!==o.reason&&"Document update conflict."!==o.reason||(d=!0),n&&!d?(m.log.error("publish","Failed PUT "+(l&&l.statusCode)),a(n)):n||d?void m.request(g+"?write=true",{auth:i},function(n,o){if(n)return a(n);(function(t,e,n,o,i,a){if(-1!==Object.keys(o.versions||{}).map(function(t){return s.clean(t,!0)}).concat(Object.keys(o.time||{}).map(function(t){if(s.valid(t,!0))return s.clean(t,!0)}).filter(function(t){return t})).indexOf(e))return a((u=n.name,c=e,(l=new Error("cannot modify pre-existing version")).code="EPUBLISHCONFLICT",l.pkgid=u,l.version=c,l));var u,c,l;for(var d in o.versions[e]=n.versions[e],o._attachments=o._attachments||{},n)switch(d){case"dist-tags":case"versions":case"_attachments":for(var f in n[d])o[d][f]=n[d][f];break;case"maintainers":break;default:o[d]=n[d]}var h=JSON.parse(JSON.stringify(n.maintainers));n.versions[e].maintainers=h;var g=r.resolve(t,p(n.name)),m={method:"PUT",body:o,auth:i};this.request(g,m,a)}).call(m,t,e.version,u,o,i,a)}):a(n,o,c,l)})}).call(y,t,h,e,l,d,n)});v.on("error",n),m.pipe(v)};var r=n(1),s=n(9),o=n(20).Stream,i=n(0),a=n(68).fixer,u=n(69),c=n(70);function p(t){return t.replace("/","%2f")}},function(t,e){t.exports=require("normalize-package-data")},function(t,e){t.exports=require("concat-stream")},function(t,e){t.exports=require("ssri")},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass uri to request"),r(e&&"object"==typeof e,"must pass params to request"),r("function"==typeof n,"must pass callback to request"),e.method=e.method||"GET",this.log.verbose("request","uri",t);var o=c(n);if(t.match(/^\/?favicon.ico/))return o(new Error("favicon.ico isn't a package, it's a picture."));var d=t.match(/\/?-\/user\/org\.couchdb\.user:([^\/]+)\/-rev/),f=t.match(/\/?-\/user\/org\.couchdb\.user:([^\/?]+)$/),h=e.auth&&e.auth.alwaysAuth,g="DELETE"===e.method,m=e.body||g;if(d&&!m)return o(new Error("trying to change user document without writing(?!)"));null==e.authed&&(d?(this.log.verbose("request","updating existing user; sending authorization"),e.authed=!0):f?(this.log.verbose("request","new user, so can't send auth"),e.authed=!1):h?(this.log.verbose("request","always-auth set; sending authorization"),e.authed=!0):m?(this.log.verbose("request","sending authorization for write operation"),e.authed=!0):(this.log.verbose("request","no auth needed"),e.authed=!1));var y=this;this.attempt(function(n){(function(t,e,n){var r,o=c(function(t,e,s,i){return r&&r.removeListener("error",o),n(t,e,s,i)}),d=s.parse(t),f={"accept-encoding":"gzip"},h=this.authify(e.authed,d,f,e.auth);if(h)return n(h);var g=null!=e.fullMetadata&&!e.fullMetadata,m=this.initialize(d,e.method,g?"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*":"application/json",f);m.followRedirect="boolean"!=typeof e.follow||e.follow,m.encoding=null,e.etag&&(this.log.verbose("etag",e.etag),f["GET"===e.method?"if-none-match":"if-match"]=e.etag);e.lastModified&&"GET"===e.method&&(this.log.verbose("lastModified",e.lastModified),f["if-modified-since"]=e.lastModified);e.body&&(Buffer.isBuffer(e.body)?(m.body=e.body,f["content-type"]="application/json",f["content-length"]=e.body.length):"string"==typeof e.body?(m.body=e.body,f["content-type"]="application/json",f["content-length"]=Buffer.byteLength(e.body)):e.body instanceof i?(f["content-type"]="application/octet-stream",e.body.size&&(f["content-length"]=e.body.size)):(delete e.body._etag,delete e.body._lastModified,m.json=e.body));this.log.http("request",e.method,d.href||"/");var y=function(t,e,n){return function(r,o,i){if(r)return n(r);var u,c=s.parse(e);if(c.auth&&(c.auth="***"),this.log.http(o.statusCode,s.format(c)),Buffer.isBuffer(i)&&(i=i.toString()),i&&"string"==typeof i&&304!==o.statusCode)try{u=JSON.parse(i)}catch(t){return t.message+="\n"+i,this.log.verbose("bad json",i),this.log.error("registry","error parsing json"),n(t,null,i,o)}else i&&(u=i,i=JSON.stringify(u));if(!i&&o.statusCode>=400){var p=o.statusCode;return n(l(p+" "+a[p],null,p),null,i,o)}if(r=null,u&&o.headers.etag&&(u._etag=o.headers.etag),u&&o.headers["last-modified"]&&(u._lastModified=o.headers["last-modified"]),u&&u.error&&"object"!=typeof u.error||o.statusCode>=400){var d,f=s.parse(e).pathname.substr(1);if(!f.match(/^-/)){var h=(f=f.split("/")).indexOf("_rewrite");-1===h?h=f.length-1:h++,d=decodeURIComponent(f[h])}if(u.error)r=d&&"not_found"===u.error?l("404 Not Found: "+d,d,o.statusCode):d&&"User not found"===u.error?l("User not found. Check `npm whoami` and make sure you have a NPM account.",d,o.statusCode):l(u.error+" "+(u.reason||"")+": "+(d||f),d,o.statusCode);else if(401===o.statusCode&&o.headers["www-authenticate"]){const t=o.headers["www-authenticate"].split(/,\s*/).map(t=>t.toLowerCase());r=-1!==t.indexOf("ipaddress")?l("Login is not allowed from your IP address",d,o.statusCode,"EAUTHIP"):-1!==t.indexOf("otp")?l("OTP required for this operation",d,o.statusCode,"EOTP"):l("Unable to authenticate, need: "+o.headers["www-authenticate"],d,o.statusCode,"EAUTHUNKNOWN")}else{const n=u.message?": "+u.message:"";r=l("Registry returned "+o.statusCode+" for "+t+" on "+e+n,d,o.statusCode)}}return n(r,u,i,o)}.bind(this)}.call(this,e.method,t,o),v=u(m,e.streaming?void 0:p(y));v.on("error",o),v.on("socket",function(t){(r=t).on("error",o)}),e.streaming&&v.on("response",function(t){if(!(t.statusCode>=400))return t.on("end",function(){t.socket&&t.statusCode>500&&t.socket.destroy()}),o(null,t);var e=[];t.on("data",function(t){e.push(t)}),t.on("end",function(){p(y)(null,t,Buffer.concat(e))})});e.body&&e.body instanceof i&&e.body.pipe(v)}).call(y,t,e,function(t,e,r,s){if(s&&(y.log.verbose("headers",s.headers),s.headers["npm-notice"]&&y.log.warn("notice",s.headers["npm-notice"])),!t||t.message&&t.message.match(/^SSL Error/))return t&&(t.code="ESSL"),o(t,e,r,s);var i=s&&s.statusCode,a=408===i,u=i>=500,c=!i||a||u;t&&c&&n.retry(t)?y.log.info("retry","will retry, error on last attempt: "+t):o.apply(null,arguments)})})};var r=n(0),s=n(1),o=n(72),i=n(20).Stream,a=n(19).STATUS_CODES,u=n(17),c=n(18);function p(t){return function(e,n,r){return e?t(e,n,r):(n.socket&&n.statusCode>500&&n.socket.destroy(),"gzip"!==n.headers["content-encoding"]?t(e,n,r):void o.gunzip(r,function(e,s){if(e)return t(e,n,r);t(null,n,s)}))}}function l(t,e,n,r){var s=new Error(t);return e&&(s.pkgid=e),n&&(s.statusCode=n,s.code=r||"E"+n),s}},function(t,e){t.exports=require("zlib")},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI"),r(e&&"object"==typeof e,"must pass params"),r("function"==typeof n,"must pass callback");var o=s.resolve(t,"-/npm/anon-metrics/v1/"+encodeURIComponent(e.metricId));this.request(o,{method:"PUT",body:JSON.stringify(e.metrics),authed:!1},n)};var r=n(0),s=n(1)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to star"),r(e&&"object"==typeof e,"must pass params to star"),r("function"==typeof n,"must pass callback to star");var s=!!e.starred,o=e.auth;if(r(o&&"object"==typeof o,"must pass auth to star"),!(o.token||o.password&&o.username&&o.email)){var i=new Error("Must be logged in to star/unstar packages");return i.code="ENEEDAUTH",n(i)}var a=this;this.request(t+"?write=true",{auth:o},function(r,i){if(r)return n(r);a.whoami(t,e,function(e,r){if(e)return n(e);var u={_id:i._id,_rev:i._rev,users:i.users||{}};s?(a.log.info("starring",u._id),u.users[r]=!0,a.log.verbose("starring",u)):(delete u.users[r],a.log.info("unstarring",u._id),a.log.verbose("unstarring",u));var c={method:"PUT",body:u,auth:o};return a.request(t,c,n)})})};var r=n(0)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to stars"),r(e&&"object"==typeof e,"must pass params to stars"),r("function"==typeof n,"must pass callback to stars");var o=e.auth,i=e.username||o&&o.username;if(!i)return n(new Error("must pass either username or auth to stars"));var a='-/_view/starredByUser?key="'+encodeURIComponent(i)+'"';this.request(s.resolve(t,a),{auth:o},n)};var r=n(0),s=n(1)},function(t,e,n){t.exports=function(t,e,n){r("string"==typeof t,"must pass registry URI to tag"),r(e&&"object"==typeof e,"must pass params to tag"),r("function"==typeof n,"must pass callback to tag"),r("string"==typeof e.version,"must pass version to tag"),r("string"==typeof e.tag,"must pass tag name to tag"),r(e.auth&&"object"==typeof e.auth,"must pass auth to tag");var s={method:"PUT",body:JSON.stringify(e.version),auth:e.auth};this.request(t+"/"+e.tag,s,n)};var r=n(0)},function(t,e,n){t.exports=function(t,e,n,s){return function(t,e,n,s){r(t,"subcommand is required"),r(o.hasOwnProperty(t),"team subcommand must be one of "+Object.keys(o)),r("string"==typeof e,"registry URI is required"),r("object"==typeof n,"params are required"),r("object"==typeof n.auth,"auth is required"),r("string"==typeof n.scope,"scope is required"),r(!s||"function"==typeof s,"callback must be a function"),"ls"!==t&&r("string"==typeof n.team,"team name is required"),"rm"!==t&&"add"!==t||r("string"==typeof n.user,"user is required"),"edit"===t&&r("object"==typeof n.users&&null!=n.users.length,"users is required")}(t,e,n,s),o[t].call(this,e,n,s)};var r=n(0),s=n(1),o={};function i(t){var e=Array.prototype.slice.call(arguments,1).map(encodeURIComponent).join("/");return s.resolve(t,"-/"+e)}o.create=function(t,e,n){return this.request(i(t,"org",e.scope,"team"),{method:"PUT",auth:e.auth,body:JSON.stringify({name:e.team})},n)},o.destroy=function(t,e,n){return this.request(i(t,"team",e.scope,e.team),{method:"DELETE",auth:e.auth},n)},o.add=function(t,e,n){return this.request(i(t,"team",e.scope,e.team,"user"),{method:"PUT",auth:e.auth,body:JSON.stringify({user:e.user})},n)},o.rm=function(t,e,n){return this.request(i(t,"team",e.scope,e.team,"user"),{method:"DELETE",auth:e.auth,body:JSON.stringify({user:e.user})},n)},o.ls=function(t,e,n){if(e.team){var r=i(t,"team",e.scope,e.team,"user")+"?format=cli";return this.request(r,{method:"GET",auth:e.auth},n)}return this.request(i(t,"org",e.scope,"team")+"?format=cli",{method:"GET",auth:e.auth},n)}},function(t,e,n){t.exports=function(t,e,n){i("string"==typeof t,"must pass registry URI to unpublish"),i(e&&"object"==typeof e,"must pass params to unpublish"),i("function"==typeof n,"must pass callback to unpublish");var c=e.version,p=e.auth;i(p&&"object"==typeof p,"must pass auth to unpublish");var l={timeout:-1,follow:!1,auth:p};this.get(t+"?write=true",l,function(e,i){if(e)return this.log.info("unpublish",t+" not published"),n();if(!c)return this.log.info("unpublish","No version specified, removing all"),this.request(t+"/-rev/"+i._rev,{method:"DELETE",auth:p},n);var l,d=i.versions||{},f=d.hasOwnProperty(c);if(f?(l=d[c].dist,this.log.verbose("unpublish","removing attachments",l)):this.log.info("unpublish",t+"@"+c+" not published"),delete d[c],!Object.keys(d).length)return this.log.info("unpublish","No versions remain, removing entire package"),this.request(t+"/-rev/"+i._rev,{method:"DELETE",auth:p},n);if(!f)return n();var h=i["dist-tags"].latest;for(var g in i["dist-tags"])i["dist-tags"][g]===c&&delete i["dist-tags"][g];h===c&&(i["dist-tags"].latest=Object.getOwnPropertyNames(d).sort(r.compareLoose).pop());var m=i._rev;delete i._revisions,delete i._attachments;var y=function(t,e,n,r,i){return function(c){if(c)return i(c);this.get(u(t,e.name),{auth:r},function(e,u){if(e)return i(e);var c=s.parse(n.tarball);a.call(this,t,u,c.pathname,u._rev,r,function(e){if(e||!n.bin)return i(e);o(Object.keys(n.bin).map(function(e){return function(o){var i=n.bin[e];a.call(this,t,u,s.parse(i.tarball).pathname,null,r,o)}.bind(this)},this),i)}.bind(this))}.bind(this))}.bind(this)}.call(this,t,i,l,p,n);this.request(t+"/-rev/"+m,{method:"PUT",body:i,auth:p},function(t){t&&this.log.error("unpublish","Failed to update data"),y(t)}.bind(this))}.bind(this))};var r=n(9),s=n(1),o=n(79).chain,i=n(0);function a(t,e,n,r,o,i){if(r)return n+="/-rev/"+r,this.log.info("detach",n),this.request(s.resolve(t,n),{method:"DELETE",auth:o},i);this.get(u(t,e.name),{auth:o},function(t,e){if(!(r=e._rev))return i(new Error("No _rev found in "+e._id));a.call(this,e,n,r,i)}.bind(this))}function u(t,e){var n=e.replace(/\//,"%2f");return s.resolve(t,n)}},function(t,e){t.exports=require("slide")},function(t,e,n){t.exports=function(t,e,n){s("string"==typeof t,"must pass registry URI to whoami"),s(e&&"object"==typeof e,"must pass params to whoami"),s("function"==typeof n,"must pass callback to whoami");var o=e.auth;if(s(o&&"object"==typeof o,"must pass auth to whoami"),o.username)return process.nextTick(n.bind(this,null,o.username));this.request(r.resolve(t,"-/whoami"),{auth:o},function(t,e){if(t)return n(t);n(null,e.username)})};var r=n(1),s=n(0)}]);