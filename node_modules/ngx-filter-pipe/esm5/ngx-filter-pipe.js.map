{
  "version": 3,
  "file": "ngx-filter-pipe.js",
  "sources": [
    "ng://ngx-filter-pipe/out/src/app/shared/ngx-filter-pipe/ngx-filter.module.ts",
    "ng://ngx-filter-pipe/out/src/app/shared/ngx-filter-pipe/ngx-filter.pipe.ts"
  ],
  "sourcesContent": [
    "/**\n * Created by vadimdez on 28/11/2016.\n */\nimport { NgModule } from '@angular/core';\nimport { FilterPipe } from './ngx-filter.pipe';\n\n@NgModule({\n  declarations: [FilterPipe],\n  providers: [FilterPipe],\n  exports: [FilterPipe]\n})\n\nexport class FilterPipeModule {}\n",
    "/**\n * Created by vadimdez on 28/06/16.\n */\nimport { Pipe, Injectable, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filterBy',\n  pure: false\n})\n\n@Injectable()\nexport class FilterPipe implements PipeTransform {\n\n  static isFoundOnWalking(value, key) {\n    let walker = value;\n    let found = false;\n    do {\n      if (walker.hasOwnProperty(key) || Object.getOwnPropertyDescriptor(walker, key)) {\n        found = true;\n        break;\n      }\n    } while (walker = Object.getPrototypeOf(walker));\n\n    return found;\n  }\n\n  static isNumber(value) {\n    return !isNaN(parseInt(value, 10)) && isFinite(value);\n  }\n\n  /**\n   * Checks function's value if type is function otherwise same value\n   */\n  static getValue(value: any): any {\n    return typeof value === 'function' ? value() : value;\n  }\n\n  private filterByString(filter) {\n    if (filter) {\n      filter = filter.toLowerCase();\n    }\n    return value => !filter || (value ? ('' + value).toLowerCase().indexOf(filter) !== -1 : false);\n  }\n\n  private filterByBoolean(filter) {\n    return value => Boolean(value) === filter;\n  }\n\n  private filterByObject(filter) {\n    return value => {\n      for (const key in filter) {\n\n        if (key === '$or') {\n          if (!this.filterByOr(filter.$or)(FilterPipe.getValue(value))) {\n            return false;\n          }\n          continue;\n        }\n\n        if (!value || !FilterPipe.isFoundOnWalking(value, key)) {\n          return false;\n        }\n\n        if (!this.isMatching(filter[key], FilterPipe.getValue(value[key]))) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n  }\n\n  private isMatching(filter, val) {\n    switch (typeof  filter) {\n      case 'boolean':\n        return this.filterByBoolean(filter)(val);\n      case 'string':\n        return this.filterByString(filter)(val);\n      case 'object':\n       return this.filterByObject(filter)(val);\n    }\n    return this.filterDefault(filter)(val);\n  }\n\n  /**\n   * Filter value by $or\n   */\n  private filterByOr(filter: any[]): (value: any) => boolean {\n    return (value: any) => {\n      const length = filter.length;\n\n      const arrayComparison = (i) => value.indexOf(filter[i]) !== -1;\n      const otherComparison = (i) => this.isMatching(filter[i], value);\n      const comparison = Array.isArray(value) ? arrayComparison : otherComparison;\n\n      for (let i = 0; i < length; i++) {\n        if (comparison(i)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Default filterDefault function\n   */\n  private filterDefault(filter: any): (value: any) => boolean {\n    return (value: any) => filter === undefined || filter == value;\n  }\n\n  transform(array: any[], filter: any): any {\n    if (!array) {\n      return array;\n    }\n\n    switch (typeof filter) {\n      case 'boolean':\n        return array.filter(this.filterByBoolean(filter));\n      case 'string':\n        if (FilterPipe.isNumber(filter)) {\n          return array.filter(this.filterDefault(filter));\n        }\n        return array.filter(this.filterByString(filter));\n      case 'object':\n        return array.filter(this.filterByObject(filter));\n      case 'function':\n        return array.filter(filter);\n    }\n    return array.filter(this.filterDefault(filter));\n  }\n}\n"
  ],
  "names": [],
  "mappings": ";;;;;;ACGA,AAQA,MAAA,UAAA,CAAA;;;;;;IAEE,OAAO,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAApC;QACI,qBAAI,MAAM,GAAG,KAAK,CAAC;QACnB,qBAAI,KAAK,GAAG,KAAK,CAAC;QAClB,GAAG;YACD,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE;gBAC9E,KAAK,GAAG,IAAI,CAAC;gBACb,MAAM;aACP;SACF,QAAQ,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;QAEjD,OAAO,KAAK,CAAC;KACd;;;;;IAED,OAAO,QAAQ,CAAC,KAAK,EAAvB;QACI,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;KACvD;;;;;;IAKD,OAAO,QAAQ,CAAC,KAAU,EAA5B;QACI,OAAO,OAAO,KAAK,KAAK,UAAU,GAAG,KAAK,EAAE,GAAG,KAAK,CAAC;KACtD;;;;;IAEO,cAAc,CAAC,MAAM,EAA/B;QACI,IAAI,MAAM,EAAE;YACV,MAAM,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;SAC/B;QACD,OAAO,KAAK,IAAI,CAAC,MAAM,KAAK,KAAK,GAAG,CAAC,EAAE,GAAG,KAAK,EAAE,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;;;;;;IAGzF,eAAe,CAAC,MAAM,EAAhC;QACI,OAAO,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,MAAM,CAAC;;;;;;IAGpC,cAAc,CAAC,MAAM,EAA/B;QACI,OAAO,KAAK,IAAhB;YACM,KAAK,uBAAM,GAAG,IAAI,MAAM,EAAE;gBAExB,IAAI,GAAG,KAAK,KAAK,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;wBAC5D,OAAO,KAAK,CAAC;qBACd;oBACD,SAAS;iBACV;gBAED,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE;oBACtD,OAAO,KAAK,CAAC;iBACd;gBAED,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;oBAClE,OAAO,KAAK,CAAC;iBACd;aACF;YAED,OAAO,IAAI,CAAC;SACb,CAAC;;;;;;;IAGI,UAAU,CAAC,MAAM,EAAE,GAAG,EAAhC;QACI,QAAQ,OAAQ,MAAM;YACpB,KAAK,SAAS;gBACZ,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;YAC3C,KAAK,QAAQ;gBACX,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1C,KAAK,QAAQ;gBACZ,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;;;;;;;IAMjC,UAAU,CAAC,MAAa,EAAlC;QACI,OAAO,CAAC,KAAU,KAAtB;YACM,uBAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAE7B,uBAAM,eAAe,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/D,uBAAM,eAAe,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACjE,uBAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,eAAe,GAAG,eAAe,CAAC;YAE5E,KAAK,qBAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC/B,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE;oBACjB,OAAO,IAAI,CAAC;iBACb;aACF;YAED,OAAO,KAAK,CAAC;SACd,CAAC;;;;;;;IAMI,aAAa,CAAC,MAAW,EAAnC;QACI,OAAO,CAAC,KAAU,KAAK,MAAM,KAAK,SAAS,IAAI,MAAM,IAAI,KAAK,CAAC;;;;;;;IAGjE,SAAS,CAAC,KAAY,EAAE,MAAW,EAArC;QACI,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,KAAK,CAAC;SACd;QAED,QAAQ,OAAO,MAAM;YACnB,KAAK,SAAS;gBACZ,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC;YACpD,KAAK,QAAQ;gBACX,IAAI,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;oBAC/B,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;iBACjD;gBACD,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;YACnD,KAAK,QAAQ;gBACX,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;YACnD,KAAK,UAAU;gBACb,OAAO,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAC/B;QACD,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;KACjD;;;IA9HH,EAAA,IAAA,EAAC,IAAI,EAAL,IAAA,EAAA,CAAM;gBACJ,IAAI,EAAE,UAAU;gBAChB,IAAI,EAAE,KAAK;aACZ,EAAD,EAAA;IAEA,EAAA,IAAA,EAAC,UAAU,EAAX;;;;;;;;;ADPA,AASA,MAAA,gBAAA,CAAA;;;IANA,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,YAAY,EAAE,CAAC,UAAU,CAAC;gBAC1B,SAAS,EAAE,CAAC,UAAU,CAAC;gBACvB,OAAO,EAAE,CAAC,UAAU,CAAC;aACtB,EAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;"
}
